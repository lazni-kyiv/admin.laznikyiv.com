import{a as l,f as g,g as v,q as x,c,b as n,i as d,C as _,L as S,F as L,E as w,j as E,o as p,t as k,u as B}from"./index-BHK97qKn.js";import{aH as M,aM as O,aN as V,aO as $,aI as A,aJ as C,aK as z,aL as D}from"./AnalyticsCard-81gcUQMK.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./Icon-Ld9IDNsz.js";const I={class:"monthly-report-page"},N={class:"mb-6"},R=["value"],T={__name:"ReportView",setup(Y){M([V,$,A,C,z]);const m=l([]),u=l([]),s=l(new Date().getFullYear()),y=l([]),f={"01":"Січень","02":"Лютий","03":"Березень","04":"Квітень","05":"Травень","06":"Червень","07":"Липень","08":"Серпень","09":"Вересень",10:"Жовтень",11:"Листопад",12:"Грудень"},o=["01","02","03","04","05","06","07","08","09","10","11","12"],h=["#2f8051","#42d778","#dc2626","#ea580c","#0891b2"];g(()=>{v.reports.list().then(a=>console.log(a))});const b=x(()=>{const a={};o.forEach(t=>a[t]=0),m.value.forEach(t=>{const[r,i]=t.date.split("T")[0].split("-");r==s.value&&a[i]++});const e={};return o.forEach(t=>e[t]=0),u.value.forEach(t=>{const[r,i]=t.$createdAt.split("T")[0].split("-");r==s.value&&e[i]++}),{color:h,tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["Бронювання","Гості"],bottom:0},grid:{left:"3%",right:"4%",bottom:"12%",top:"5%",containLabel:!0},xAxis:{type:"category",data:o.map(t=>f[t]),axisLine:{lineStyle:{color:"#ccc"}}},yAxis:{type:"value",minInterval:1,axisLine:{lineStyle:{color:"#ccc"}},splitLine:{lineStyle:{type:"dashed",color:"#e5e7eb"}}},series:[{name:"Бронювання",type:"line",smooth:!0,symbol:"circle",symbolSize:6,areaStyle:{opacity:.1},data:o.map(t=>a[t])},{name:"Гості",type:"line",smooth:!0,symbol:"circle",symbolSize:6,areaStyle:{opacity:.1},data:o.map(t=>e[t])}]}});return(a,e)=>(p(),c("div",I,[e[2]||(e[2]=n("h1",{class:"text-2xl font-bold mb-4"},"Місячний звіт",-1)),n("div",N,[e[1]||(e[1]=n("label",{class:"mr-2 font-semibold"},"Оберіть рік:",-1)),_(n("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),class:"border rounded px-2 py-1"},[(p(!0),c(L,null,w(y.value,t=>(p(),c("option",{key:t,value:t},k(t),9,R))),128))],512),[[S,s.value]])]),d(O,{title:"Бронювання та Гості по місяцях",icon:"calendar-white"},{default:E(()=>[d(B(D),{option:b.value,autoresize:"",style:{height:"400px"}},null,8,["option"])]),_:1})]))}},K=F(T,[["__scopeId","data-v-a4d5f417"]]);export{K as default};
