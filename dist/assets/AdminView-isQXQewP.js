import{y as S,c as v,o as n,b as t,e as y,d as f,u as i,B as C,j as d,i as o,n as p,F as A,t as g,v as B,k as b,a as m,s as L,f as I,g as V,p as E,r as D,W as N,C as T,D as K,X as O}from"./index-BHK97qKn.js";/* empty css                  */import{_}from"./Icon-Ld9IDNsz.js";import{_ as P}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"sidebar open"},F={class:"sidebar__nav"},M={class:"version"},U={__name:"SidebarComponent",setup(h){const{userTeamPrefs:c,accessType:l}=C();return(s,e)=>{const a=S("router-link");return n(),v("aside",z,[e[10]||(e[10]=t("a",{href:""},[t("h3",{class:"sidebar__logo"},"LAZNI")],-1)),t("nav",F,[e[8]||(e[8]=t("p",{class:"sidebar__section-label"},"Керування",-1)),i(c)?(n(),y(a,{key:0,to:"/dashboard/",class:p(["sidebar__nav__item",{active:s.$route.path.startsWith("/dashboard")}])},{default:d(()=>[t("div",null,[o(_,{icon:s.$route.path.startsWith("/dashboard")?"dashboard-active":"dashboard"},null,8,["icon"]),e[0]||(e[0]=t("p",null,"Огляд",-1))])]),_:1},8,["class"])):f("",!0),i(l)==="admin"||i(l)==="manage"?(n(),v(A,{key:1},[o(a,{to:"/calendar/",class:p(["sidebar__nav__item",{active:s.$route.path.startsWith("/calendar")}])},{default:d(()=>[t("div",null,[o(_,{icon:s.$route.path.startsWith("/calendar")?"calendar-active":"calendar"},null,8,["icon"]),e[1]||(e[1]=t("p",null,"Календар",-1))])]),_:1},8,["class"]),o(a,{to:"/guests/",class:p(["sidebar__nav__item",{active:s.$route.path.startsWith("/guests")}])},{default:d(()=>[t("div",null,[o(_,{icon:s.$route.path.startsWith("/guests")?"guests-active":"guests"},null,8,["icon"]),e[2]||(e[2]=t("p",null,"Гості",-1))])]),_:1},8,["class"]),e[5]||(e[5]=t("p",{class:"sidebar__section-label"},"Аналітика",-1)),o(a,{to:"/dogovir/",class:p(["sidebar__nav__item",{active:s.$route.path.startsWith("/dogovir")}])},{default:d(()=>[t("div",null,[o(_,{icon:s.$route.path.startsWith("/dogovir")?"dogovir-active":"dogovir"},null,8,["icon"]),e[3]||(e[3]=t("p",null,"Договори",-1))])]),_:1},8,["class"]),o(a,{to:"/analytics/",class:p(["sidebar__nav__item",{active:s.$route.path.startsWith("/analytics")}])},{default:d(()=>[t("div",null,[o(_,{icon:s.$route.path.startsWith("/analytics")?"analytics-active":"analytics"},null,8,["icon"]),e[4]||(e[4]=t("p",null,"Аналітика",-1))])]),_:1},8,["class"])],64)):f("",!0),e[9]||(e[9]=t("p",{class:"sidebar__section-label"},"Профіль",-1)),i(c)?(n(),y(a,{key:2,to:"/account/",class:p(["sidebar__nav__item",{active:s.$route.path.startsWith("/account")}])},{default:d(()=>[t("div",null,[o(_,{icon:s.$route.path.startsWith("/account")?"profile-active":"profile"},null,8,["icon"]),e[6]||(e[6]=t("p",null,"Профіль",-1))])]),_:1},8,["class"])):f("",!0),i(c)?(n(),y(a,{key:3,to:"/signout/",class:"sidebar__nav__item danger"},{default:d(()=>e[7]||(e[7]=[t("div",null,[t("i",{class:"hgi hgi-stroke hgi-sharp hgi-logout-02",style:{color:"#9d9d9d","font-weight":"bold"}}),t("p",null,"Вийти")],-1)])),_:1})):f("",!0)]),t("span",M,g(i(B)),1)])}}};function j(){const h=b(),l=m((()=>{try{return localStorage.getItem("app-locked")==="true"}catch{return!1}})()),s=m(!1);L(l,r=>{try{localStorage.setItem("app-locked",String(r))}catch{}r&&!s.value?e():(a(),s.value=!1)},{immediate:!0});function e(){h.fullPath.startsWith("/dogovir")||document.getElementById("lock-overlay")}function a(){var r;(r=document.getElementById("lock-overlay"))==null||r.remove(),document.body.style.overflow=""}return{locked:l,isUnlocked:s,lockApp:()=>{l.value=!0,s.value=!1},unlockApp:()=>{l.value=!1,s.value=!1},isLocked:()=>l.value&&!s.value}}const R={key:0,class:"main__container"},X={class:"main__content"},Z={key:0,class:"content__item"},q={key:1},G={class:"lock-container"},H={class:"lock-box"},J={key:0,class:"error"},Q={key:2,class:"content not-auth"},Y="lk0la",x={__name:"AdminView",props:{blured:{type:Boolean,default:!1}},setup(h){const c=m(!1),{locked:l,unlockApp:s}=j(),e=m(""),a=m("");function r(){e.value===Y?(s(),a.value=""):(a.value="Неправильний код доступу",e.value="")}I(()=>{c.value=!0});const $=m(null),W=b();return V.verify().then(k=>{k.valid?$.value=!0:window.location.href=`/?redirect=${W.fullPath}`}),(k,u)=>i(E)&&!i(l)?(n(),v("div",R,[t("div",X,[o(U),o(N,{name:"fade"},{default:d(()=>[c.value?(n(),v("div",Z,[D(k.$slots,"default",{},void 0,!0)])):f("",!0)]),_:3})])])):i(l)?(n(),v("div",q,[t("div",G,[t("div",H,[u[1]||(u[1]=t("h2",null,"Заблоковано",-1)),u[2]||(u[2]=t("p",null,"Введіть код доступу для розблокування",-1)),T(t("input",{"onUpdate:modelValue":u[0]||(u[0]=w=>e.value=w),type:"password",placeholder:"Код доступу",onKeyup:O(r,["enter"])},null,544),[[K,e.value]]),t("button",{onClick:r},"Розблокувати"),a.value?(n(),v("p",J,g(a.value),1)):f("",!0)])])])):(n(),v("div",Q,u[3]||(u[3]=[t("h1",null,"Lazni Kyiv",-1),t("p",null,"Доступ до панелі адміністрування заблоковано, встановіть додаток",-1)])))}},ot=P(x,[["__scopeId","data-v-5a701a84"]]);export{ot as A,j as u};
