import{A as I}from"./AdminView-isQXQewP.js";/* empty css                  */import{a as t,q as V,f as E,x as H,g as N,H as $,s as F,e as w,j as k,y as G,o as n,b as o,c as m,d as p,F as R,E as T,G as j,n as z,t as _}from"./index-BHK97qKn.js";import{_ as D}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{t as L}from"./toastr-CY63SwY8.js";import"./Icon-Ld9IDNsz.js";import"./_commonjsHelpers-CqkleIqs.js";const M={key:0,class:"guests"},U={key:0,class:"not-found"},q={class:"guest__info"},J={class:"guest__name"},K={class:"guest__id"},O={__name:"ReportsView",setup(P){t([]);const x=t(Array.from({length:10},()=>({})));t(""),t(null);const l=t([]),h=t(!0);t(null);const A=V(()=>[...x.value].reverse());t({alias:null,name:null,birthday:null,document:null,phone:null}),t([]),t([]);const B=t("l"),S=t({"01":"Січень","02":"Лютий","03":"Березень","04":"Квітень","05":"Травень","06":"Червень","07":"Липень","08":"Серпень","09":"Вересень",10:"Жовтень",11:"Листопад",12:"Грудень"});E(()=>{H({title:"Договори"}),sessionStorage.getItem("guest-error")=="get-error"&&(L.error("Помилка завантаження гостя"),sessionStorage.removeItem("guest-error")),N.reports.list().then(e=>{console.log(e),l.value=e,h.value=!1})});async function C(s,e=6){const i=new TextEncoder().encode(s),a=await crypto.subtle.digest("SHA-256",i),b=Array.from(new Uint8Array(a)).map(d=>d.toString(16).padStart(2,"0")).join("");let c=BigInt("0x"+b.slice(0,16));const v="01234567890123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",y=BigInt(v.length);let u="";for(;c>0n;){const d=c%y;u=v[Number(d)]+u,c=c/y}return`${u.slice(0,e)}`}const g=$({});return F(()=>A.value,async s=>{if(s!=null&&s.length)for(const e of s){const r=e==null?void 0:e.$id;!r||g[r]||(g[r]=await C(r))}},{immediate:!0,deep:!0}),(s,e)=>{const r=G("router-link");return n(),w(I,null,{default:k(()=>{var i;return[e[1]||(e[1]=o("div",{class:"header"},[o("p",{class:"comment"},"Звіти")],-1)),B.value=="l"?(n(),m("div",M,[l.value.length==0?(n(),m("p",U,"Немає результатів")):p("",!0),((i=l.value)==null?void 0:i.length)>0?(n(!0),m(R,{key:1},T(l.value,(a,f)=>(n(),w(r,{class:z(["guest",{lorem:h.value}]),style:j(`animation-delay: ${.02*f}s`),to:`/reports/${a.split(".")[0]}`},{default:k(()=>[e[0]||(e[0]=o("div",{class:"guest-text"},[o("div",{class:"guest__avatar"},[o("i",{class:"hgi hgi-stroke hgi-chart-rose"})])],-1)),o("div",q,[o("div",J,_(S.value[a.split(".")[0].split("-")[1]])+" "+_(a.split(".")[0].split("-")[0]),1),o("div",K,_(a.split(".")[0]),1)])]),_:2},1032,["style","class","to"]))),256)):p("",!0)])):p("",!0)]}),_:1})}}},se=D(O,[["__scopeId","data-v-dc9ad142"]]);export{se as default};
